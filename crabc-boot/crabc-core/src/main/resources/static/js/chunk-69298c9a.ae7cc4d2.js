(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69298c9a"],{3095:function(e,t,r){},ac2a:function(e,t,r){"use strict";r.r(t);r("d3b7"),r("ac1f");var a=r("e762"),n={data:function(){return{customActiveKey:"tab1",register:!1,loginBtn:!1,form:this.$form.createForm(this)}},created:function(){},beforeDestroy:function(){window.ssoCallback=void 0},methods:{handleTabClick:function(e){this.customActiveKey=e},registerBtn:function(e){this.register=e},checkEmail:function(e){return e.split(",").every((function(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)}))},handleSubmit:function(e){var t=this;e.preventDefault(),(0,this.form.validateFields)(["username","password"],{force:!0},(function(e,r){if(!e){t.loginBtn=!0;var n={username:r.username,password:a.a.encode(r.password)};t.$store.dispatch("Login",n).then((function(){t.loginBtn=!1;var e=t.$route.query.redirect||"/";t.$router.push({path:e})})).catch((function(){t.loginBtn=!1}))}}))},registerSubmit:function(e){var t=this;e.preventDefault(),(0,this.form.validateFields)(["username","nickname","email","password"],{force:!0},(function(e,r){if(!e){if(t.loginBtn=!0,!1===(r.email&&t.checkEmail(r.email)))return t.loginBtn=!1,void t.$message.warning("请输入合法的邮箱地址");if(r.password.length<=6)return t.loginBtn=!1,void t.$message.warning("密码长度必须大于6位");var n={username:r.username,nickname:r.nickname,email:r.email,password:a.a.encode(r.password)};t.$api.user.register(n).then((function(){t.loginBtn=!1,t.register=!1,t.$router.push({path:"/"})})).catch((function(){t.loginBtn=!1}))}}))}}},i=(r("b66a"),r("2877")),o=Object(i.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("div",{attrs:{activeKey:e.customActiveKey,tabBarStyle:{textAlign:"center"}},on:{change:e.handleTabClick}},[r("div",{key:"tab2",attrs:{tab:e.$t("login.tab2Title")}},[r("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",hidden:e.register,form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:e.$t("login.placeholderName")}],validateTrigger:"change"}],expression:"[\n              'username',\n              {\n                rules: [{ required: true, message: $t('login.placeholderName') }],\n                validateTrigger: 'change'\n              }\n            ]"}],staticClass:"input-username",attrs:{size:"large",type:"text",placeholder:e.$t("login.placeholderName"),allowClear:""}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$t("login.placeholderPwd")}],validateTrigger:"blur"}],expression:"[\n              'password',\n              { rules: [{ required: true, message: $t('login.placeholderPwd') }], validateTrigger: 'blur' }\n            ]"}],staticClass:"input-username",attrs:{size:"large",placeholder:e.$t("login.placeholderPwd")}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-item",{staticStyle:{"margin-top":"40px","margin-bottom":"0"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtn,disabled:e.loginBtn}},[e._v(" "+e._s(e.$t("login.loginBtn"))+" ")])],1)],1),r("a-form",{ref:"formRegister",staticClass:"user-layout-login",attrs:{id:"formRegister",hidden:!e.register,form:e.form},on:{submit:e.registerSubmit}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入登录账号"}],validateTrigger:"change"}],expression:"[\n              'username',\n              {\n                rules: [{ required: true, message:'请输入登录账号'}],\n                validateTrigger: 'change'\n              }\n            ]"}],staticClass:"input-username",attrs:{size:"large",type:"text",placeholder:"请输入登录账号",allowClear:""}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{rules:[{required:!0,message:"请输入账号名称"}],validateTrigger:"change"}],expression:"[\n              'nickname',\n              {\n                rules: [{ required: true, message:'请输入账号名称'}],\n                validateTrigger: 'change'\n              }\n            ]"}],staticClass:"input-username",attrs:{size:"large",type:"text",placeholder:"请输入账号名称",allowClear:""}},[r("a-icon",{attrs:{slot:"prefix",type:"idcard"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"请输入邮箱地址"}],validateTrigger:"change"}],expression:"[\n              'email',\n              {\n                rules: [{ required: true, message:'请输入邮箱地址'}],\n                validateTrigger: 'change'\n              }\n            ]"}],staticClass:"input-username",attrs:{size:"large",type:"text",placeholder:"请输入邮箱地址",allowClear:""}},[r("a-icon",{attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$t("login.placeholderPwd")}],validateTrigger:"blur"}],expression:"[\n              'password',\n              { rules: [{ required: true, message: $t('login.placeholderPwd') }], validateTrigger: 'blur' }\n            ]"}],staticClass:"input-username",attrs:{size:"large",placeholder:e.$t("login.placeholderPwd")}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-item",{staticStyle:{"margin-top":"40px","margin-bottom":"0"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtn,disabled:e.loginBtn}},[e._v(" "+e._s(e.$t("login.registerBtn"))+" ")]),r("a",{staticStyle:{float:"right"},on:{click:function(t){return e.registerBtn(!1)}}},[e._v("立即登录")])],1)],1)],1)])])}),[],!1,null,"34e4b5fe",null);t.default=o.exports},b66a:function(e,t,r){"use strict";r("3095")},e762:function(e,t,r){"use strict";r.d(t,"a",(function(){return R}));const a="function"==typeof atob,n="function"==typeof btoa,i="function"==typeof Buffer,o="function"==typeof TextDecoder?new TextDecoder:void 0,s="function"==typeof TextEncoder?new TextEncoder:void 0,l=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=(e=>{let t={};return e.forEach((e,r)=>t[e]=r),t})(l),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),g=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),m=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),p=e=>{let t,r,a,n,i="";const o=e.length%3;for(let o=0;o<e.length;){if((r=e.charCodeAt(o++))>255||(a=e.charCodeAt(o++))>255||(n=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=r<<16|a<<8|n,i+=l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}return o?i.slice(0,o-3)+"===".substring(o):i},h=n?e=>btoa(e):i?e=>Buffer.from(e,"binary").toString("base64"):p,b=i?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,a=e.length;r<a;r+=4096)t.push(d.apply(null,e.subarray(r,r+4096)));return h(t.join(""))},v=(e,t=!1)=>t?g(b(e)):b(e),y=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?d(192|t>>>6)+d(128|63&t):d(224|t>>>12&15)+d(128|t>>>6&63)+d(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return d(240|t>>>18&7)+d(128|t>>>12&63)+d(128|t>>>6&63)+d(128|63&t)},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,x=e=>e.replace(w,y),A=i?e=>Buffer.from(e,"utf8").toString("base64"):s?e=>b(s.encode(e)):e=>h(x(e)),B=(e,t=!1)=>t?g(A(e)):A(e),C=e=>B(e,!0),T=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,$=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return d(55296+(t>>>10))+d(56320+(1023&t));case 3:return d((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return d((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},S=e=>e.replace(T,$),k=e=>{if(e=e.replace(/\s+/g,""),!u.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,a,n="";for(let i=0;i<e.length;)t=c[e.charAt(i++)]<<18|c[e.charAt(i++)]<<12|(r=c[e.charAt(i++)])<<6|(a=c[e.charAt(i++)]),n+=64===r?d(t>>16&255):64===a?d(t>>16&255,t>>8&255):d(t>>16&255,t>>8&255,255&t);return n},z=a?e=>atob(m(e)):i?e=>Buffer.from(e,"base64").toString("binary"):k,F=i?e=>f(Buffer.from(e,"base64")):e=>f(z(e).split("").map(e=>e.charCodeAt(0))),U=e=>F(_(e)),q=i?e=>Buffer.from(e,"base64").toString("utf8"):o?e=>o.decode(F(e)):e=>S(z(e)),_=e=>m(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),E=e=>q(_(e)),D=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),N=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,D(t));e("fromBase64",(function(){return E(this)})),e("toBase64",(function(e){return B(this,e)})),e("toBase64URI",(function(){return B(this,!0)})),e("toBase64URL",(function(){return B(this,!0)})),e("toUint8Array",(function(){return U(this)}))},P=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,D(t));e("toBase64",(function(e){return v(this,e)})),e("toBase64URI",(function(){return v(this,!0)})),e("toBase64URL",(function(){return v(this,!0)}))},R={version:"3.7.5",VERSION:"3.7.5",atob:z,atobPolyfill:k,btoa:h,btoaPolyfill:p,fromBase64:E,toBase64:B,encode:B,encodeURI:C,encodeURL:C,utob:x,btou:S,decode:E,isValid:e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:v,toUint8Array:U,extendString:N,extendUint8Array:P,extendBuiltins:()=>{N(),P()}}}}]);